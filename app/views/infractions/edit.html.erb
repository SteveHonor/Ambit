<div class="block-header">
  <h2>
    <a href="/" title="voltar">
      <i class="zmdi zmdi-long-arrow-left zmdi-hc-lg"></i>
    </a> Editar Infração
  </h2>
</div>

<%= form_for(@infraction, url: infraction_path(@infraction), :method=>:put) do |f| %>
<div class="card">
  <div class="card-body card-padding">

    <fieldset>
      <legend><i class="zmdi zmdi-view-subtitles"></i> Informações do solicitante</legend>
      <div class="row">
        <div class="col-sm-2">
          <div class="form-group fg-line">
            <label for="iqual">Pessoa:</label>
            <div class="select">
              <select id="iqual" class="form-control">
                <option value=0>Fisica</option>
                <option value=1>Juridica<option>
                </select>
              </div>
            </div>
          </div>

          <div class="col-sm-6">
            <div class="form-group fg-line fg-line">
         <%= f.label :owner_name, class: "control-label" %>
         <%= f.text_field :owner_name, autofocus: true, class: "form-control" %>
       </div>
     </div>

     <div class="col-sm-2">
       <div class="form-group fg-line">
         <%= f.label :owner_identifier, class: "control-label" %>
         <%= f.text_field :owner_identifier, class: "form-control" %>
       </div>
     </div>

     <div class="col-sm-2">
       <div class="form-group fg-line">
         <%= f.label :owner_zip_code, class: "control-label" %>
         <%= f.text_field :owner_zip_code, class: "form-control" %>
       </div>
     </div>
  </div>

  <div class="row">
    <div class="col-sm-5">
      <div class="form-group fg-line">
        <%= f.label :owner_address, class: "control-label" %>
        <%= f.text_field :owner_address, class: "form-control" %>
      </div>
    </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
        <%= f.label :owner_address_number, class: "control-label" %>
        <%= f.text_field :owner_address_number, class: "form-control" %>
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group fg-line">
        <%= f.label :owner_address_complement, class: "control-label" %>
        <%= f.text_field :owner_address_complement, class: "form-control" %>
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group fg-line">
        <%= f.label :owner_district, class: "control-label" %>
        <%= f.text_field :owner_district, class: "form-control" %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-3">
      <div class="form-group fg-line">
        <%= f.label :owner_city, class: "control-label" %>
        <%= f.text_field :owner_city, class: "form-control" %>
      </div>
    </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
        <%= f.label :owner_state, class: "control-label" %>
        <%= f.text_field :owner_state, class: "form-control" %>
      </div>
    </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
        <%= f.label :owner_ddd_mobile, class: "control-label" %>
        <%= f.text_field :owner_ddd_mobile, class: "form-control" %>
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group fg-line">
        <%= f.label :owner_mobile, class: "control-label" %>
        <%= f.text_field :owner_mobile, class: "form-control" %>
      </div>
    </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
        <%= f.label :owner_ddd_phone, class: "control-label" %>
        <%= f.text_field :owner_ddd_phone, class: "form-control" %>
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group fg-line">
        <%= f.label :owner_phone, class: "control-label" %>
        <%= f.text_field :owner_phone, class: "form-control" %>
      </div>
    </div>
  </div>
</fieldset>

<fieldset>
  <legend><i class="zmdi zmdi-view-subtitles"></i> Dados do imovel</legend>

  <div class="row">
    <div class="col-sm-1">
      <label>Mesmo:</label>
      <select id="iqual" class="form-control">
        <option value=0>Não</option>
        <option value=1>Sim</option>
      </select>
    </div>

    <div class="col-sm-2">
      <div class="form-group fg-line">
        <label>
          Área:
        </label>
        <select id="iqual" class="form-control">
          <option value="Urban">Área Urbana</option>
          <option value="Rural">Área Rural<option>
          </select>
        </div>
      </div>

      <div class="col-sm-2">
        <div class="form-group fg-line">
      <%= f.label :property_zip_code, class: "control-label" %>
      <%= f.text_field :property_zip_code, class: "form-control" %>
    </div>
    </div>

    <div class="col-sm-6">
      <div class="form-group fg-line">
      <%= f.label :property_address, class: "control-label" %>
      <%= f.text_field :property_address, class: "form-control" %>
    </div>
    </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
      <%= f.label :property_address_number, class: "control-label" %>
      <%= f.text_field :property_address_number, class: "form-control" %>
    </div>
    </div>

  </div>


  <div class="row">
    <div class="col-sm-2">
      <div class="form-group fg-line">
      <%= f.label :property_address_complement, class: "control-label" %>
      <%= f.text_field :property_address_complement, class: "form-control" %>
    </div>
  </div>

    <div class="col-sm-3">
      <div class="form-group fg-line">
      <%= f.label :property_district, class: "control-label" %>
      <%= f.text_field :property_district, class: "form-control" %>
    </div>
  </div>

    <div class="col-sm-3">
      <div class="form-group fg-line">
      <%= f.label :property_city, class: "control-label" %>
      <%= f.text_field :property_city, class: "form-control" %>
    </div>
  </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
      <%= f.label :property_state, class: "control-label" %>
      <%= f.text_field :property_state, class: "form-control" %>
    </div>
  </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
      <%= f.label :property_meter, class: "control-label" %>
      <%= f.text_field :property_meter, class: "form-control" %>
    </div>
  </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
      <%= f.label :property_block, class: "control-label" %>
      <%= f.text_field :property_block, class: "form-control" %>
    </div>
  </div>

    <div class="col-sm-1">
      <div class="form-group fg-line">
      <%= f.label :property_allotment, class: "control-label" %>
      <%= f.text_field :property_allotment, class: "form-control" %>
    </div>
  </div>
  </div>

  <div class="row">
    <div class="col-sm-12">
      <div class="form-group fg-line">
        <%= f.label :property_observation, class: "control-label" %>
        <%= f.text_area :property_observation, class: "form-control text_area" %>
      </div>
    </div>
  </div>
</fieldset>

<fieldset>
  <legend><i class="zmdi zmdi-view-subtitles"></i> Selecione as imagens</legend>

  <div class="row">
    <div class="col-xs-6 col-md-3">
      <a href="#" class="thumbnail">
        <img data-src="holder.js/100%x180" alt="100%x180" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE3MSAxODAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjxkZWZzLz48cmVjdCB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgZmlsbD0iI0VFRUVFRSIvPjxnPjx0ZXh0IHg9IjU5LjU1NDY4NzUiIHk9IjkwIiBzdHlsZT0iZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQ7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+MTcxeDE4MDwvdGV4dD48L2c+PC9zdmc+" data-holder-rendered="true" style="height: 280px; width: 100%; display: block;">
      </a>
    </div>

    <div class="col-xs-6 col-md-3">
      <a href="#" class="thumbnail">
        <img data-src="holder.js/100%x180" alt="100%x180" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE3MSAxODAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjxkZWZzLz48cmVjdCB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgZmlsbD0iI0VFRUVFRSIvPjxnPjx0ZXh0IHg9IjU5LjU1NDY4NzUiIHk9IjkwIiBzdHlsZT0iZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQ7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+MTcxeDE4MDwvdGV4dD48L2c+PC9zdmc+" data-holder-rendered="true" style="height: 280px; width: 100%; display: block;">
      </a>
    </div>

    <div class="col-xs-6 col-md-3">
      <a href="#" class="thumbnail">
        <img data-src="holder.js/100%x180" alt="100%x180" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE3MSAxODAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjxkZWZzLz48cmVjdCB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgZmlsbD0iI0VFRUVFRSIvPjxnPjx0ZXh0IHg9IjU5LjU1NDY4NzUiIHk9IjkwIiBzdHlsZT0iZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQ7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+MTcxeDE4MDwvdGV4dD48L2c+PC9zdmc+" data-holder-rendered="true" style="height: 280px; width: 100%; display: block;">
      </a>
    </div>

    <div class="col-xs-6 col-md-3">
      <a href="#" class="thumbnail">
        <img data-src="holder.js/100%x180" alt="100%x180" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE3MSAxODAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjxkZWZzLz48cmVjdCB3aWR0aD0iMTcxIiBoZWlnaHQ9IjE4MCIgZmlsbD0iI0VFRUVFRSIvPjxnPjx0ZXh0IHg9IjU5LjU1NDY4NzUiIHk9IjkwIiBzdHlsZT0iZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQ7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+MTcxeDE4MDwvdGV4dD48L2c+PC9zdmc+" data-holder-rendered="true" style="height: 280px; width: 100%; display: block;">
      </a>
    </div>
  </div>
</fieldset>

<fieldset>
  <legend><i class="zmdi zmdi-view-subtitles"></i> Dados da penalidade</legend>

  <div class="row">
    <div class="col-sm-3">
      <div class="form-group fg-line">
        <%= f.label 'Prazo de Regularização', class: "control-label" %>
        <div class="input-group">
          <%= f.text_field :regularization, class: "form-control", "aria-describedby"=> "basic-addon2" %>
          <span class="input-group-addon" id="basic-addon2"><b>dias a partir da ciência deste auto.</b></span>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12">
      <div class="form-group fg-line">
        <%= f.label :notify_description, class: "control-label" %>
        <%= f.text_area :notify_description, class: "form-control text_area" %>
      </div>
    </div>
  </div>
</fieldset>


<div class="col-sm-12">
  <div class="row">
    <%= f.label 'Conforme lei', class: "control-label" %>
    <table class="table">
      <tbody>
        <% @fine.each do | fine | %>
        <tr>
          <td width='2%' id='delete_fine' style="cursor:pointer">
            <i id=<%= fine.id %> class="zmdi zmdi-close zmdi-hc-2x"></i>
          </td>
          <td colspan="3"><%= fine.law.description %></td>
        </tr>
        <% end %>
        <%  fine = Fine.all.pluck(:law_id) %>
        <%  Law.where.not(id: fine).each do | law | %>
        <tr>
          <td>
            <div class="checkbox m-b-15">
              <label>
                <input value=<%= law.id %> type="checkbox" name="laws[]">
                <i class="input-helper"></i>
              </label>
            </div>
          </td>
          <td width="100">Lei: <%= law.number %></td>
          <td width="80">Artigo: <%= law.article %></td>
          <td><%= law.description %></td>
        </tr>
        <% end %>

        <% Law.where.not(id: @fine.pluck(:law_id) ).each do | law | %>
        <tr>
          <td>
            <div class="checkbox m-b-15">
              <label>
                <input value=<%= law.id %> type="checkbox" name="laws[]">
                <i class="input-helper"></i>
              </label>
            </div>
          </td>
          <td width="100">Lei: <%= law.number %></td>
          <td width="80">Artigo: <%= law.article %></td>
          <td><%= law.description %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
<div class="pull-right">
  <!-- <button class="btn btn-warning">Gerar Autuação</button> -->
  <%= link_to "Voltar", infractions_path, class: "btn btn-link waves-effect" %>
  <button class="btn btn-primary waves-effect"> Atualizar</button>
</div>
<div class="clearfix"></div>

  </div>
</div>
<% end %>
<script src='/assets/fines.js'></script>
